function addTooltipEventListeners(){var elems=document.querySelectorAll(".tooltip");var arrow_elem=null;for(var i=0;i<elems.length;i++){if(elems[i].addEventListener){elems[i].addEventListener("mouseover",function(e){showTooltip(e);},false);elems[i].addEventListener("mouseout",function(e){hideTooltip(e);},false);}else if(elems[i].attachEvent){elems[i].attachEvent("onmouseover",function(e){showTooltip(e);});elems[i].attachEvent("onmouseout",function(e){hideTooltip(e);});}if(elems[i].classList.contains("with_arrow")){arrow_elem=document.createElement("span");arrow_elem.className="tooltip_arrow";elems[i].appendChild(arrow_elem);}};}function showTooltip(e){if(e==null){return;}var window_width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var window_height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var src_elem=e.srcElement||e.target;var src_rect=src_elem.getBoundingClientRect();var tt_text=null;var arrow_elem=null;for(var i=0;i<e.target.children.length;i++){var child_classes=e.target.children[i].classList;if(child_classes.contains("tooltip_text")){tt_text=e.target.children[i];}if(child_classes.contains("tooltip_arrow")){arrow_elem=e.target.children[i];}if(tt_text!=null&&arrow_elem!=null){break;}};if(tt_text==null){return;}var root_elem=document.querySelector(":root");var root_elem_styles=root_elem.currentStyle||window.getComputedStyle(root_elem);var root_font_size=parseFloat(root_elem_styles.fontSize);var offset_x=0;var offset_y=0.5*root_font_size;var use_arrow=false;if(src_elem.classList.contains("with_arrow")){if(arrow_elem==null){return;}use_arrow=true;offset_y+=0.5*root_font_size;}var tt_text_styles=tt_text.currentStyle||window.getComputedStyle(tt_text);var tt_text_raw_width=getTooltipRawWidth(tt_text,tt_text_styles);if(tt_text_styles.minWidth!="none"&&parseInt(tt_text_styles.minWidth)!=0){var tt_min_width=Math.min(parseInt(tt_text_styles.minWidth),window_width);}else{var tt_min_width=0;}if(tt_text_styles.maxWidth!="none"&&parseInt(tt_text_styles.maxWidth)!=0){var tt_max_width=Math.min(parseInt(tt_text_styles.maxWidth),window_width);}else{var tt_max_width=window_width;}var min_x=Math.max(src_rect.left+offset_x,0);var max_x=Math.min(min_x+tt_max_width,window_width);var done=false;while(!done&&parseFloat(tt_text_styles.fontSize)>1){done=true;var tt_req_width=Math.max(tt_min_width,Math.min(tt_max_width,tt_text_raw_width+parseInt(tt_text_styles.paddingLeft)+parseInt(tt_text_styles.paddingRight)+parseInt(tt_text_styles.marginLeft)+parseInt(tt_text_styles.marginRight)+parseInt(tt_text_styles.borderLeftWidth)+parseInt(tt_text_styles.borderRightWidth)));if(min_x+tt_req_width>max_x){if(src_rect.right-offset_x-tt_req_width>=0){min_x=src_rect.right-offset_x-tt_req_width;max_x=min_x+tt_req_width;}else{min_x=0;max_x=window_width;}}tt_text.style.left=min_x+"px";var tt_req_height=parseInt(tt_text_styles.height)+parseInt(tt_text_styles.paddingTop)+parseInt(tt_text_styles.paddingBottom)+parseInt(tt_text_styles.marginTop)+parseInt(tt_text_styles.marginBottom)+parseInt(tt_text_styles.borderTopWidth)+parseInt(tt_text_styles.borderBottomWidth);if(src_rect.bottom+offset_y+tt_req_height>window_height){if(src_rect.top-offset_y-tt_req_height>=0){tt_text.style.top=(src_rect.top-offset_y-tt_req_height)+"px";}else{done=false;if(min_x>0||max_x<window_width){min_x=0;max_x=window_width;}else{tt_text.style.fontSize=(parseFloat(tt_text_styles.fontSize)-1)+"px";tt_text_raw_width=getTooltipRawWidth(tt_text,tt_text_styles);}}}else{tt_text.style.top=(src_rect.bottom+offset_y)+"px";}}if(use_arrow){var arrow_x=(src_rect.left+src_rect.right)/ 2;if(parseFloat(tt_text.style.left)+tt_req_width<=arrow_x+root_font_size){arrow_x=(2*parseFloat(tt_text.style.left)+tt_req_width)/ 2-0.5*root_font_size;}arrow_elem.style.left=arrow_x+"px";if(parseFloat(tt_text.style.top)>src_rect.top){arrow_elem.style.borderTopColor=tt_text_styles.borderTopColor;arrow_elem.classList.add("tooltip_arrow_rotate");arrow_elem.style.top=(parseFloat(tt_text.style.top)-root_font_size)+"px";}else{arrow_elem.style.borderTopColor=tt_text_styles.borderBottomColor;arrow_elem.style.top=(src_rect.top-offset_y)+"px";}}}function hideTooltip(e){if(e==null){return;}var tt_text=null;var arrow_elem=null;for(var i=0;i<e.target.children.length;i++){var child_classes=e.target.children[i].classList;if(child_classes.contains("tooltip_text")){tt_text=e.target.children[i];}if(child_classes.contains("tooltip_arrow")){arrow_elem=e.target.children[i];}if(tt_text!=null&&arrow_elem!=null){break;}};if(tt_text==null){return;}tt_text.style.left="";tt_text.style.top="";tt_text.style.fontSize="";if(arrow_elem!=null){arrow_elem.style.left="";arrow_elem.style.top="";arrow_elem.style.borderTopColor="";arrow_elem.classList.remove("tooltip_arrow_rotate");}}function getTooltipRawWidth(tt_text,tt_text_styles){var tt_text_classes=tt_text.classList;tt_text_classes.add("tooltip_auto_size");var result=parseFloat(tt_text_styles.width);tt_text_classes.remove("tooltip_auto_size");return(result);}